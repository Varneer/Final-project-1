<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styless.css">
    <title>Косынка</title>
</head>
<body class="body">

    <h1 class="Kos">Косынка</h1>
    <div id="deck"></div>
    <div class="card"></div>

    <script>

const suits = [ '♠',  '♥',  '♣',  '♦' ];
const nums = [ 'A',  'K',  'Q',  'J',  '10',  '9',  '8',  '7',  '6',  '5',  '4',  '3',  '2' ]
const deck = [];

for(let suit of suits) {
    for(let num of nums) {
        deck.push({ suit, num});
    }
}

function shuffle(arr) {
    let k, temp;
    for ( let i = arr.length - 1; i > 0; i--) {
        k = Math.floor(Math.random() * (i + 1));
        temp = arr[k];
        arr[k] = arr[i];
        arr[i] = temp;
    }
    return arr;
}

function dealCards(numPlayers, numCards) {
    let players = []
    for (let i = 0; i<numPlayers; i++){
        let playerHand = [];
        for (let k = 0; k < numCards; k++) {
            playerHand.push(cards.pop());
        }
        players.push(playerHand);
    }
    return players;
}

let maxScore = 0;
let winners = [];

for (let i = 0; k < players.length; k++) {
    let playerScore = 0;
    for (let k = 0; k < players[i].length; k++) {
        playerScore += parseInt(players[i][k])
    }
    if (playerScore > maxScore) {
        maxScore = playerScore;
        winners = [i+1];
    }
    else if (playerScore === maxScore) {
        winners.push(i+1);
    }
}

const deckElement = document.getElementById (`deck`);

for (let card of deck) {
    const cardElement = document.createElement('div');
    cardElement.className = 'card';
    cardElement.textContent = `${card.nums} ${card.suit}`;
    deckElement.appendChild(cardElement);
}

// function eventTargetaddEventListener("click", (event) => {
//     const clickedCard = event.target;
//     if (clickedCard.classList.contains('card')) {
//         const index = Array.from(deckElement.children).indexOf(clickedCard);
//         const card = deck[index];

//         alert(`Вы выбрали карту ${card.num} ${card.suit}`);
//     }
// });

function showResult(winners) {
    if (winners.length === 1) {
        console.log(`Победил игрок ${winners[0]}`);
    } else {
        console.log( `Ничья между игроками ${winners.join(' и ')}`)
    }
}


showResult(winners);

    </script>
</body>
</html>
